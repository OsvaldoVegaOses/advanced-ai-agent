# =============================================================================
# AZURE PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================
# This file contains the production configuration for Azure App Service
# Copy these settings to your Azure App Service Configuration

ENVIRONMENT=production
DEBUG=False
SECRET_KEY=@Microsoft.KeyVault(SecretUri=https://ai-agent-vault.vault.azure.net/secrets/app-secret/)

# =============================================================================
# AZURE DATABASE CONFIGURATION
# =============================================================================
# Azure Database for PostgreSQL
DATABASE_URL=postgresql://aiagent@ai-agent-db:PASSWORD@ai-agent-db.postgres.database.azure.com:5432/ai_agent_db?sslmode=require

# Azure Cache for Redis
REDIS_URL=redis://ai-agent-cache.redis.cache.windows.net:6380,password=REDIS_PASSWORD,ssl=True,abortConnect=False

# =============================================================================
# AZURE OPENAI CONFIGURATION
# =============================================================================
USE_MANAGED_IDENTITY=True
AZURE_OPENAI_ENDPOINT=https://nubeweb.openai.azure.com/
AZURE_OPENAI_VERSION=2024-10-21

# Model Deployments (verify these exist in your Azure OpenAI resource)
AZURE_CHAT_DEPLOYMENT=gpt-4o-mini
AZURE_VISION_DEPLOYMENT=gpt-4o-mini
AZURE_AUDIO_DEPLOYMENT=gpt-4o-mini-audio-preview
AZURE_REASONING_DEPLOYMENT=o1
AZURE_FAST_REASONING_DEPLOYMENT=o3-mini
AZURE_EMBEDDINGS_DEPLOYMENT=text-embedding-3-small

# =============================================================================
# AZURE KEY VAULT SECRETS
# =============================================================================
# These will be automatically resolved by Azure App Service
JWT_SECRET_KEY=@Microsoft.KeyVault(SecretUri=https://ai-agent-vault.vault.azure.net/secrets/jwt-secret/)
SENDGRID_API_KEY=@Microsoft.KeyVault(SecretUri=https://ai-agent-vault.vault.azure.net/secrets/sendgrid-api-key/)
TWILIO_AUTH_TOKEN=@Microsoft.KeyVault(SecretUri=https://ai-agent-vault.vault.azure.net/secrets/twilio-auth-token/)
SENTRY_DSN=@Microsoft.KeyVault(SecretUri=https://ai-agent-vault.vault.azure.net/secrets/sentry-dsn/)

# =============================================================================
# AZURE SERVICE CONFIGURATION
# =============================================================================
ALLOWED_HOSTS=advanced-ai-agent.azurewebsites.net,*.azurewebsites.net,localhost

# Communication Services
FROM_EMAIL=noreply@nubeweb.cl
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# AZURE MONITORING & PERFORMANCE
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# Rate limiting for production
RATE_LIMIT_PER_MINUTE=120
RATE_LIMIT_PER_HOUR=5000

# Azure Application Insights
APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=your-app-insights-key

# =============================================================================
# AZURE SCALING & PERFORMANCE
# =============================================================================
# Celery configuration for Azure Service Bus
CELERY_BROKER_URL=azureservicebus://your-connection-string
CELERY_RESULT_BACKEND=redis://ai-agent-cache.redis.cache.windows.net:6380

# Performance optimization
WORKERS_PER_CORE=1
MAX_WORKERS=2
WEB_CONCURRENCY=2