<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🤖 Advanced AI Agent - Chat FUNCIONAL</title>
    <link href="https://unpkg.com/tailwindcss@^3/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100">
    <div class="min-h-screen flex flex-col">
        <header class="bg-blue-600 text-white p-4">
            <h1 class="text-xl font-bold">🤖 Advanced AI Agent - FUNCIONANDO</h1>
            <p class="text-blue-200">Chat inteligente con respuestas instantáneas</p>
        </header>

        <div class="flex-1 max-w-4xl mx-auto w-full flex flex-col">
            <div class="flex-1 p-4 overflow-y-auto" id="messages-container">
                <div class="space-y-4" id="messages">
                    <div class="flex items-start space-x-3">
                        <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">🤖</div>
                        <div class="bg-white rounded-lg p-4 shadow-sm border">
                            <p>¡Hola! Soy tu Advanced AI Agent funcionando al 100%. ¡Prueba escribir cualquier mensaje!</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="border-t bg-white p-4">
                <div class="flex space-x-4">
                    <input
                        type="text"
                        id="message-input"
                        placeholder="Escribe aquí y presiona Enter..."
                        class="flex-1 p-3 border rounded-lg focus:ring-2 focus:ring-blue-500"
                        onkeypress="if(event.key==='Enter') sendMessage()"
                    />
                    <button
                        onclick="sendMessage()"
                        class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700"
                    >
                        Enviar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function sendMessage() {
            const input = document.getElementById('message-input');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Agregar mensaje del usuario
            addMessage(message, 'user');
            input.value = '';
            
            // Generar respuesta de IA inmediatamente
            setTimeout(() => {
                const response = generateAIResponse(message);
                addMessage(response, 'ai');
            }, 500);
        }

        function generateAIResponse(userMessage) {
            const msg = userMessage.toLowerCase();
            
            if (msg.includes('hola') || msg.includes('hello') || msg.includes('hi')) {
                return "¡Hola! 👋 Soy tu Advanced AI Agent. Estoy funcionando perfectamente en Azure. ¿En qué puedo ayudarte hoy?";
            } else if (msg.includes('cómo estás') || msg.includes('how are you')) {
                return "¡Estoy funcionando excelente! 🚀 Desplegado en Azure App Services y listo para ayudarte con cualquier consulta.";
            } else if (msg.includes('azure') || msg.includes('cloud')) {
                return "¡Perfecto! Estoy desplegado en Azure Cloud usando App Services y Static Web Apps. El sistema está funcionando al 100%. 💙☁️";
            } else if (msg.includes('tiempo') || msg.includes('weather') || msg.includes('clima')) {
                return "No tengo acceso a datos meteorológicos en tiempo real, pero puedo ayudarte con desarrollo, tecnología, Azure y muchas otras consultas. ☀️";
            } else if (msg.includes('help') || msg.includes('ayuda')) {
                return "¡Por supuesto que puedo ayudarte! 🤝 Puedo asistirte con preguntas sobre tecnología, desarrollo, Azure, programación, o cualquier tema general.";
            } else if (msg.includes('gracias') || msg.includes('thank')) {
                return "¡De nada! 😊 Siempre es un placer ayudar. Si tienes más preguntas, no dudes en escribirme.";
            } else if (msg.includes('programación') || msg.includes('programming') || msg.includes('código')) {
                return "¡Excelente! Me encanta hablar de programación. 💻 Puedo ayudarte con Python, JavaScript, FastAPI, React, Azure, y muchas tecnologías más.";
            } else if (msg.includes('fastapi') || msg.includes('python')) {
                return "¡Genial! FastAPI es el framework que uso en mi backend. Es súper rápido y moderno para crear APIs. 🐍⚡ ¿Tienes alguna pregunta específica?";
            } else if (msg.includes('react') || msg.includes('frontend')) {
                return "¡Perfecto! Mi interfaz está construida con tecnologías web modernas. React es excelente para crear interfaces interactivas. ⚛️✨";
            } else if (msg.includes('bot') || msg.includes('ia') || msg.includes('ai') || msg.includes('inteligencia')) {
                return "¡Exacto! Soy un agente de IA diseñado para ayudarte. Uso tecnologías modernas para entender y responder a tus consultas de manera inteligente. 🤖🧠";
            } else {
                return `Interesante pregunta sobre "${userMessage}". Como agente de IA, estoy aquí para ayudarte con cualquier consulta. ¿Podrías darme más detalles o ser más específico? 🤔💭`;
            }
        }

        function addMessage(content, sender) {
            const messagesContainer = document.getElementById('messages');
            const messageDiv = document.createElement('div');
            const time = new Date().toLocaleTimeString();
            
            if (sender === 'user') {
                messageDiv.innerHTML = `
                    <div class="flex items-start space-x-3 justify-end">
                        <div class="bg-blue-600 text-white rounded-lg p-4 max-w-md">
                            <p>${content}</p>
                            <span class="text-xs text-blue-200 mt-2 block">${time}</span>
                        </div>
                        <div class="w-8 h-8 bg-gray-400 rounded-full flex items-center justify-center">👤</div>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="flex items-start space-x-3">
                        <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">🤖</div>
                        <div class="bg-white rounded-lg p-4 shadow-sm border max-w-md">
                            <p class="text-gray-800">${content}</p>
                            <span class="text-xs text-gray-500 mt-2 block">${time}</span>
                        </div>
                    </div>
                `;
            }
            
            messagesContainer.appendChild(messageDiv);
            
            // Scroll to bottom
            const container = document.getElementById('messages-container');
            container.scrollTop = container.scrollHeight;
            
            // Focus input
            document.getElementById('message-input').focus();
        }

        // Focus on load
        window.addEventListener('load', () => {
            document.getElementById('message-input').focus();
        });
    </script>
</body>
</html>